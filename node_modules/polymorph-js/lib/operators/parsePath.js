Object.defineProperty(exports, "__esModule", { value: true });
var parsePoints_1 = require("./parsePoints");
var math_1 = require("../utilities/math");
var perimeterPoints_1 = require("./perimeterPoints");
function createPathSegmentArray(points) {
    var xmin = points[0];
    var ymin = points[1];
    var ymax = ymin;
    var xmax = xmin;
    for (var i = 2; i < points.length; i += 6) {
        var x = points[i + 4];
        var y = points[i + 5];
        xmin = math_1.min(xmin, x);
        xmax = math_1.max(xmax, x);
        ymin = math_1.min(ymin, y);
        ymax = math_1.max(ymax, y);
    }
    return {
        d: points,
        x: xmin,
        y: ymin,
        w: xmax - xmin,
        h: ymax - ymin,
        p: perimeterPoints_1.perimeterPoints(points)
    };
}
function parsePath(d) {
    return {
        path: d,
        data: parsePoints_1.parsePoints(d).map(createPathSegmentArray)
    };
}
exports.parsePath = parsePath;
